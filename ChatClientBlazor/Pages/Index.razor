@page "/"
@inject IJSRuntime JSRuntime

<h3>Chat Client for Web</h3>

@if (!Ready)
{
    <div class="row">
        <div class="col-sm">
            <div>Loading...</div>
        </div>
    </div>
}
else
{
    <h4>Hello @UserName</h4>

    <div class="row">
        <div class="signalr-demo col-sm">
            <hr />
            <form v-on:submit.prevent="sendNewMessage">
                <input type="text" v-model="newMessage" id="message-box" class="form-control" placeholder="Type your message here..." />
            </form>
        </div>
    </div>

    @foreach (var message in Messages)
    {
        <div class="row" v-bind:key="message.id">
            <div class="col-sm">
                <hr />
                <div>
                    <div style="display: inline-block; padding-left: 12px;">
                        <div>
                            <span class="text-info small">
                                <strong>
                                    @message.Name
                                </strong>
                            </span>
                        </div>
                        <div>
                            @message.Text
                        </div>
                    </div>
                </div>
            </div>
        </div>
    }
}
